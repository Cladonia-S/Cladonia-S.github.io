---
title: "[백준]1629번 - 곱셈"
categories: 코딩테스트
tags: [코딩테스트, 백준, 알고리즘, 분할정복, python]
---

# 곱셈

## 문제

자연수 A를 B번 곱한 수를 알고 싶다. 단 구하려는 수가 매우 커질 수 있으므로 이를 C로 나눈 나머지를 구하는 프로그램을 작성하시오.

### 입력

첫째 줄에 A, B, C가 빈 칸을 사이에 두고 순서대로 주어진다. A, B, C는 모두 2,147,483,647 이하의 자연수이다.

### 출력

첫째 줄에 A를 B번 곱한 수를 C로 나눈 나머지를 출력한다.

## 문제풀이

이 문제는 제곱의 성질을 이용하는 것이기도 하다. 2⁴는 4²와 같은 방식을 이용하는것인데, 지수가 홀수이면 그 밑 *밑의제곱^지수//2같이 풀어내는것인데, 이때 제곱되는 값에 모듈러 거듭제곱법을 사용해서 숫자를 줄입니다. 

모듈러 거듭제곱법이란 
$$
A^B mod\; C = ( (A \;mod\; C)^B ) mod\; C
$$
이란것인데 정수론을 다루는 문제에서 종종 등장하므로 기억해 두는것이 좋습니다. 언젠가 모듈러 연산에 대해서도 정리해서 글을 쓰긴해야 겠는데 문제풀때만 생각하고 종종 까먹는거같습니다. 

위에 한이야기를 위 모듈러연산식 처럼 바꾸면 다음과 같이 됩니다.
$$
A^{2B} mod \;C = ((A^2 mod\; C)^B)\;mod\;C
$$

$$
A^{2B+1}mod\; C =(A*(A^2 mod\;C)^B)mod\;C
$$

 위의 식은 지수가 짝수일때 이고 아래쪽식은 지수가 홀수일때 를 나타내는 식입니다. 이 식을 적용해서 분할 정복 함수를 만들면 됩니다. A가 아니라 A제곱에 대해 모듈러 연산을 하는 이유는 이 것이 반복적인 분할 연산식이기 때문인데. 그렇게 되면 초반을 제외하고는 A는 C보다 작은 수 일것이기때문에 A에 모듈러 연산을 적용하는것 보다는 A제곱에 적용하는것이 합리적이기 때문이다.

### 의사코드

> 1. 입력을 받는다.
> 2. 거듭제곱 분할 정복 함수(divCon(a,b,c)를 만든다.
>    1. 입력받는것은 (A(밑), B(지수), C(나눌 수) 이다)
>    2. 이 함수는 지수가 짝수이면 divCon(A^2%C, B//2, C)를 반환한다.
>    3. 지수가 홀수이면 (A*divCon(A^2%C,B//2,C))%C를 반환한다.

결론을 보면 재귀함수로 풀어버린거같은데...?

### 파이썬 코드

```python
import sys
a,b,c=map(int,sys.stdin.readline().split())
def divCon(x,y,z):
    if x==0: return 0
    elif y==1 : return x%z
    elif y%2 ==1 :
        return (x*divCon((x**2)%z,y//2,z))%z
    else:
        return divCon((x**2)%z,y//2,z)%z
print(divCon(a,b,c))
```

