---
layout : single
title: "백트래킹(Backtracking)"
categories : 알고리즘
tag : [알고리즘, 백트래킹]
---



# 백트래킹(Backtracking)

백트래킹은 말 그대로 돌아가서 추적한다는 뜻이다. 좀 더 알고리즘 적으로 제대로 설명하자면, 어떤 노드의 유망함을 판단한 뒤, 유망하다면 마저 탐색하고 유망하지 않다면 부모 노드로 돌아가 다른 자식 노드를 탐색하는 것입니다. 즉 목표를 달성하지 못하는 쓸모없는 노드까지 탐색하는 게 브루트 포스이고, 쓸모가 없으면 그 길을 버리는 것이 백트래킹이라는 이야기입니다. 백트래킹이 일종의 가지치기라는 이야기지요.

간혹가다가 브루트 포스와 백트래킹을 혼동하는 경우가 있는데, 둘의 차이는 유망함을 확인하느냐 하지 않느냐의 차이입니다. DFS와 BFS는 백트래킹의 종류이지만 유명한 알고리즘이고, 후에 다시 한번 다룰 것들 이기 때문에 알아두면 좋습니다.

![브루트 포스와 백트래킹](https://mblogthumb-phinf.pstatic.net/20160121_2/msnayana_1453351668668DMXlr_JPEG/00000.jpg?type=w2)

기본적으로는 브루트포스와 코드가 비슷하지만, 재귀로 구성되며 브루트포스에 노드의 유망성을 판단할 함수를 추가하면 됩니다. 따라서 기본적으로 구성되는 구조는 다음과 같습니다.

```python
def backtrack(현재노드):
	if 정답인지(목표달성확인):
		 정답이라면 결과를 리턴한다.
	for 노드 in 현재_가능한_모든_노드:
	     if 유망한놈인가(Promising):
            backtrack(다음노드)
         else :
            가지치기(Pruning)한다.
```

## DFS

DFS(Depth - First Search)는 저위에 나와있는 일반적인 백트래킹 방법이다. 깊이 우선 탐색이라고 하며, 최대한 깊이 내려간 뒤, 더 이상 깊이 갈 곳이 없을 경우 옆으로 이동하는것이다.

**시작점에서 시작해서 다음분기로 넘어가기전에 해당 분기를 완벽하게 탐색하는 방식**이다. 그리고 해당분기에서 더이상 갈곳이 없으면 이전분기로 돌아가 마저 탐색하는 방식이다.

![img](https://blog.kakaocdn.net/dn/xC9Vq/btqB8n5A25K/GyOf4iwqu8euOyhwtFuyj1/img.gif)

### DFS의 특징

- 모든 노드를 방문하고자 하는 경우에 이 방법을 사용한다.
- 깊이 우선 탐색이 너비 우선 탐색(BFS)보다 좀더 간단하다.
- 검색 속도 자체는 너비 우선 탐색(BFS)에 비해서 느리다.

## BSF

BSF는 Breadth- First Search로 최대한 넓게 이동한 다음, 더 이상 갈 수 없을 때 아래로 이동한다.

위 방식은 루트 노드에서 시작해 인접한 노드를 먼저 탐색하는 방법으로 시작 점으로부터 가까운 점을 먼저 방문하고, 멀리 떨어져있는 점을 나중에 방문하는 순회 방법입니다. 주로 모든 노트를 탐색하지 않고 목표까지의 최단경로를 찾고 싶을 때 이방법을 선택합니다.

![img](https://blog.kakaocdn.net/dn/c305k7/btqB5E2hI4r/ea7vFo08tkDYo4c8wkfVok/img.gif)

## BFS와 DFS 비교

|                     DFS                      |                   BFS                   |
| :------------------------------------------: | :-------------------------------------: |
| 현재 정점에서 갈 수 있는 점들에  들어가 탐색 | 현재 정점에 연결된 가까운 점들부터 탐색 |
|          스택 또는 재귀함수로 구현           |           큐를 이용해서 구현            |

### DFS와 BFS를 활용한 문제 유형

1. 그래프의 모든 정점을 방문해야 하는 문제(이경우는 둘다 상관없음)
2. 경로에 특징이 있어 그것을 고려해야 하는 문제 
   - **DFS**사용
   - BFS는 경로적인 특징이 없어 여기에 사용하지 못한다.
3. 최단 거리를 구해야 하는 문제
   - 경로에 별다른 특징이 없이 최단거리만을 구한다면 **BFS**가 유리하다.