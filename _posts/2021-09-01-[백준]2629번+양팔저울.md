---
title: "[백준]2629번 - 양팔저울"
categories: 코딩테스트
tags: [백준, 코딩테스트, 알고리즘, 파이썬, 다이나믹 프로그래밍 2, 동적계획법2]
---

# 양팔저울

## 문제

양팔 저울과 몇 개의 추가 주어졌을 때, 이를 이용하여 입력으로 주어진 구슬의 무게를 확인할 수 있는지를 결정하려고 한다.

무게가 각각 1g과 4g인 두 개의 추가 있을 경우, 주어진 구슬과 1g 추 하나를 양팔 저울의 양쪽에 각각 올려놓아 수평을 이루면 구슬의 무게는 1g이다. 또 다른 구슬이 4g인지를 확인하려면 1g 추 대신 4g 추를 올려놓으면 된다.

구슬이 3g인 경우 아래 <그림 1>과 같이 구슬과 추를 올려놓으면 양팔 저울이 수평을 이루게 된다. 따라서 각각 1g과 4g인 추가 하나씩 있을 경우 주어진 구슬이 3g인지도 확인해 볼 수 있다.

![img](https://upload.acmicpc.net/ce5b29f5-9e03-473b-97db-ce9fd740fde2/-/preview/)

<그림 1> 구슬이 3g인지 확인하는 방법 (①은 1g인 추,④는 4g인 추, ●은 무게를 확인할 구슬)

<그림 2>와 같은 방법을 사용하면 구슬이 5g인지도 확인할 수 있다. 구슬이 2g이면 주어진 추를 가지고는 확인할 수 없다.

추들의 무게와 확인할 구슬들의 무게가 입력되었을 때, 주어진 추만을 사용하여 구슬의 무게를 확인 할 수 있는지를 결정하는 프로그램을 작성하시오.

![img](https://upload.acmicpc.net/883fb22a-7516-46e1-937d-2ddc4df94572/-/preview/)

<그림 2> 구슬이 5g인지 확인하는 방법

### 입력

첫째 줄에는 추의 개수가 자연수로 주어진다. 추의 개수는 30 이하이다. 둘째 줄에는 추의 무게들이 자연수로 가벼운 것부터 차례로 주어진다. 같은 무게의 추가 여러 개 있을 수도 있다. 추의 무게는 500g이하이며, 입력되는 무게들 사이에는 빈칸이 하나씩 있 다. 세 번째 줄에는 무게를 확인하고자 하는 구슬들의 개수가 주어진다. 확인할 구슬의 개수는 7이하이다. 네 번째 줄에는 확인하고자 하는 구슬들의 무게가 자연수로 주어지며, 입력되는 무게들 사이에는 빈 칸이 하나씩 있다. 확인하고자 하는 구슬의 무게는 40,000보다 작거나 같은 자연수이다.

### 출력

주어진 각 구슬의 무게에 대하여 확인이 가능하면 Y, 아니면 N 을 차례로 출력한다. 출력은 한 개의 줄로 이루어지며, 각 구슬에 대한 답 사이에는 빈칸을 하나씩 둔다.

## 문제풀이

이 문제의 비고란에는 냅색 알고리즘을 응용하는것이라고 되어있다. 그렇다면 이문제에서 dp는 2차원일것이고, 그중 하나는 무게를 나타내는 것 일 것 이다. 그렇다면 구슬무게와 추의 개수가 dp의 요소들이라고 보는것이 타당하다. 추의 개수는 주어지고, 무게는 최대 40000이다.

저울에 추를 추가로 올릴때 고려해야 하는것은 추가있는쪽에 추가 추가 되는가, 구슬이 있는쪽에 추가되는가, 추가는 되지만 저울에는 올리지 않을것인가. 이렇게 세가지 입니다. 이것들의 점화식을 만들면 다음과 같습니다.

- w=추의 무게 배열
- dp\[0][0]=1
- dp\[i-1][abs(j-w[i])]==1 or dp\[i-1][j+w[i]]==1 or dp\[i-1][j]==1 : dp\[i][j]=1

이것이 끝입니다. 단 j+w[i]가 최대 무게를 넘어가면 안되겠지요. 이를 이용해 의사코드를 짜면 다음과 같습니다

### 의사코드

> 1. 추의개수 n과 추의 무게들 w를 입력받는다.
> 2. (n+1)*40001크기의 dp를 선언한다.
> 3. dp\[0][0]=1
> 4. for i in range(1,n+1): for j in range(0, sum(w[:i-1]))
>    1. **if** dp\[i-1][j] ==1 **or** dp\[i-1][abs(j-w[i])] **or** **(**j+w[i]<n+1 **and** dp\[i-1][j+w[i]] ==1**)** 
>       1. dp\[i][j]=1
> 5. 구슬의 개수와 무게(mw)를 받고 구슬의 개수만큼 반복한다.
>    1. if dp\[n][mw]==1: print('Y', end= ' ')
>    2. else: print('N', end=' ')

### Python Code

```python
import sys
n=int(sys.stdin.readline())
w=list(map(int,sys.stdin.readline().split()))
dp=[[0]*(40001) for _ in range (n+1)]
dp[0][0]=1
for i in range(1,n+1):
    for j in range(0,sum(w[:i])+1):
        if dp[i-1][j]==1 or dp[i-1][abs(j-w[i-1])]==1 or (j+w[i-1]<40001 and dp[i-1][j+w[i-1]]==1):
            dp[i][j]=1
m=int(sys.stdin.readline())
mw=list(map(int, sys.stdin.readline().split()))
for i in mw:
    if dp[n][i]==1: print('Y', end=' ')
    else : print('N',end=' ')
print()
```

